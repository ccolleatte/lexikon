# ============================================================================
# LEXIKON PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env.prod and fill in the values
# NEVER commit .env.prod to git (it contains secrets)
# ============================================================================

# ============================================================================
# DATABASE - PostgreSQL (REQUIRED)
# ============================================================================
POSTGRES_DB=lexikon
POSTGRES_USER=lexikon
# Generate with: openssl rand -hex 32
POSTGRES_PASSWORD=your-secure-postgres-password-here

# PostgreSQL connection string (must not be SQLite in production)
# Format: postgresql://user:password@host:port/database
# Required for application startup
DATABASE_URL=postgresql://lexikon:your-secure-postgres-password-here@postgres:5432/lexikon

# ============================================================================
# NEO4J (REQUIRED)
# ============================================================================
# Generate with: openssl rand -hex 32 (minimum 32 chars for security)
NEO4J_PASSWORD=your-secure-neo4j-password-here

# ============================================================================
# REDIS (RECOMMENDED)
# ============================================================================
# Generate with: openssl rand -hex 32
# Required for caching layer security
# Access via internal docker network only
REDIS_PASSWORD=your-secure-redis-password-here

# ============================================================================
# JWT & API SECURITY (REQUIRED)
# ============================================================================
# Generate JWT_SECRET with: openssl rand -hex 32
# Used for signing JWT authentication tokens
JWT_SECRET=your-jwt-secret-key-here

# Generate API_KEY_SECRET with: openssl rand -hex 32
# This is CRITICAL for API key security (HMAC-SHA256 signing)
# WARNING: If changed, all existing API keys become invalid
API_KEY_SECRET=your-api-key-secret-here

# ============================================================================
# ENVIRONMENT (REQUIRED)
# ============================================================================
# Set to 'production' for strict secret validation at startup
ENVIRONMENT=production

# ============================================================================
# OAUTH (Optional - leave empty if not using)
# ============================================================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://your-domain.com/oauth/callback/google

GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URI=https://your-domain.com/oauth/callback/github

# ============================================================================
# APPLICATION
# ============================================================================
# Your domain or subdomain
# Example: lexikon.example.com or api.lexikon.com
FRONTEND_URL=https://your-domain.com

# CORS origins (comma-separated, no spaces)
# Example: https://your-domain.com,https://www.your-domain.com
CORS_ORIGINS=https://your-domain.com

# ============================================================================
# PRODUCTION NOTES
# ============================================================================
#
# 1. DATABASE:
#    - POSTGRES_PASSWORD: Must be strong (min 32 chars recommended)
#    - Store in secure vault (not git)
#
# 2. NEO4J:
#    - NEO4J_PASSWORD: Must be strong (min 32 chars)
#    - Access only via internal docker network
#
# 3. JWT & API SECURITY:
#    - JWT_SECRET: Change on first deployment
#    - API_KEY_SECRET: CRITICAL - all API keys depend on this
#                      If changed, all API keys become invalid
#    - Generate both with: openssl rand -hex 32
#
# 4. OAUTH:
#    - Only configure if you're using OAuth
#    - Secrets must be obtained from Google OAuth apps
#    - REDIRECT_URIs must match OAuth app configuration
#
# 5. SSL/TLS:
#    - Certificate setup: See deploy guide
#    - Use Let's Encrypt (free) via certbot
#    - Nginx handles HTTPS automatically
#
# 6. BACKUPS:
#    - PostgreSQL: Daily backups recommended
#    - Neo4j: Daily backups recommended
#    - Redis: Persistent RDB snapshots enabled
#
# ============================================================================
